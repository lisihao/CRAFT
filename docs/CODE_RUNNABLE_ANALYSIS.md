# CRAFT ä»£ç å¯è¿è¡Œç¨‹åº¦åˆ†ææŠ¥å‘Š

> ç‰ˆæœ¬: 1.1.0 | æ—¥æœŸ: 2026-01-21
> æ›´æ–°: æ–°å¢ Counter App å®Œæ•´ç¤ºä¾‹é¡¹ç›®

---

## ä¸€ã€æ€»ä½“è¯„ä¼°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ä»£ç å¯è¿è¡Œç¨‹åº¦æ€»è§ˆ                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  æ•´ä½“å®Œæˆåº¦: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ 70%                                        â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ æ¨¡å—             å®Œæˆåº¦    å¯ç¼–è¯‘    å¯è¿è¡Œ    ç”Ÿäº§å°±ç»ª              â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚ craft-core       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘  80%     âœ… æ˜¯     âœ… æ˜¯     âš ï¸ éƒ¨åˆ†    â”‚    â”‚
â”‚  â”‚ craft-parser     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘  80%     âœ… æ˜¯     âœ… æ˜¯     âš ï¸ éƒ¨åˆ†    â”‚    â”‚
â”‚  â”‚ craft-analyzer   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  60%     âœ… æ˜¯     âœ… æ˜¯     âŒ å¦      â”‚    â”‚
â”‚  â”‚ craft-generator  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘  90%     âœ… æ˜¯     âœ… æ˜¯     âš ï¸ éƒ¨åˆ†    â”‚    â”‚
â”‚  â”‚ craft-ai         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘  70%     âœ… æ˜¯     âš ï¸ éƒ¨åˆ†   âŒ å¦      â”‚    â”‚
â”‚  â”‚ craft-pipeline   â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘  40%     âœ… æ˜¯     âš ï¸ éƒ¨åˆ†   âŒ å¦      â”‚    â”‚
â”‚  â”‚ craft-cli        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘  50%     âœ… æ˜¯     âš ï¸ éƒ¨åˆ†   âŒ å¦      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â”‚  âœ… = å®Œå…¨å¯ç”¨  âš ï¸ = éƒ¨åˆ†å¯ç”¨/æœ‰é™åˆ¶  âŒ = ä¸å¯ç”¨/æœªå®ç°                      â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## äºŒã€å„æ¨¡å—è¯¦ç»†åˆ†æ

### 2.1 craft-core (å®Œæˆåº¦: 80%)

**çŠ¶æ€: âœ… å¯ç¼–è¯‘ âœ… å¯è¿è¡Œ**

#### å·²å®ç°åŠŸèƒ½:
| åŠŸèƒ½ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| `Platform` æšä¸¾ | âœ… å®Œæ•´ | Android/Harmony å®šä¹‰å®Œæ•´ |
| `ApiSpec` ç»“æ„ä½“ | âœ… å®Œæ•´ | æ‰€æœ‰å­—æ®µå®šä¹‰å®Œæ•´ï¼Œæœ‰æ„é€ å‡½æ•°å’Œè¾…åŠ©æ–¹æ³• |
| `MethodSpec` ç»“æ„ä½“ | âœ… å®Œæ•´ | æ–¹æ³•ä¿¡æ¯å®Œæ•´ |
| `ParameterSpec` ç»“æ„ä½“ | âœ… å®Œæ•´ | å‚æ•°ä¿¡æ¯å®Œæ•´ |
| `MappingRule` ç»“æ„ä½“ | âœ… å®Œæ•´ | æ˜ å°„è§„åˆ™å®šä¹‰å®Œæ•´ |
| `MappingType` æšä¸¾ | âœ… å®Œæ•´ | Direct/Semantic/Bridge/Shim |
| `MethodMapping` ç»“æ„ä½“ | âœ… å®Œæ•´ | æ–¹æ³•çº§æ˜ å°„ |
| `CraftError` é”™è¯¯ç±»å‹ | âœ… å®Œæ•´ | ä½¿ç”¨ thiserror |
| `Config` é…ç½®ç»“æ„ | âœ… å®Œæ•´ | é…ç½®å®šä¹‰å®Œæ•´ |
| åºåˆ—åŒ–æ”¯æŒ | âœ… å®Œæ•´ | serde derive å®Œæ•´ |
| å•å…ƒæµ‹è¯• | âœ… æœ‰ | åŸºç¡€æµ‹è¯•å­˜åœ¨ |

#### ç¼ºå¤±åŠŸèƒ½:
| åŠŸèƒ½ | çŠ¶æ€ | å½±å“ |
|------|------|------|
| `FieldInfo` ç»“æ„ä½“ | âŒ æœªå®ç° | æ— æ³•è¡¨ç¤ºç±»å­—æ®µ |
| `AnnotationInfo` ç»“æ„ä½“ | âŒ æœªå®ç° | æ— æ³•è§£ææ³¨è§£ |
| `LifecycleMapping` | âŒ æœªå®ç° | ç”Ÿå‘½å‘¨æœŸæ˜ å°„ç¼ºå¤± |
| ç±»å‹ç³»ç»Ÿ (TypeKind) | âŒ æœªå®ç° | ç±»å‹æ¨æ–­å—é™ |
| éªŒè¯é€»è¾‘ | âŒ æœªå®ç° | æ•°æ®éªŒè¯ç¼ºå¤± |

#### ä»£ç è´¨é‡:
```rust
// âœ… è‰¯å¥½: æ¸…æ™°çš„ç»“æ„å®šä¹‰
#[derive(Debug, Clone, Serialize, Deserialize)]
pub struct ApiSpec {
    pub id: Uuid,
    pub platform: Platform,
    // ...å®Œæ•´å­—æ®µ
}

// âœ… è‰¯å¥½: æœ‰å®ç”¨æ–¹æ³•
impl ApiSpec {
    pub fn new(...) -> Self { ... }
    pub fn public_methods(&self) -> Vec<&MethodSpec> { ... }
    pub fn get_method(&self, name: &str) -> Option<&MethodSpec> { ... }
}

// âš ï¸ ä¸è¶³: ç¼ºå°‘æ›´å¤šè¾…åŠ©æ–¹æ³•
// - ç¼ºå°‘ add_method()
// - ç¼ºå°‘ from_yaml() / to_yaml()
// - ç¼ºå°‘ validate()
```

---

### 2.2 craft-parser (å®Œæˆåº¦: 80%) âœ… å·²æ›´æ–°

**çŠ¶æ€: âœ… å¯ç¼–è¯‘ âœ… å¯è¿è¡Œ**

> **æ›´æ–°è¯´æ˜ (2026-01-20)**: Java è§£æå™¨å·²ä½¿ç”¨ tree-sitter å®Œæ•´å®ç°

#### å·²å®ç°åŠŸèƒ½:
| åŠŸèƒ½ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| `SdkParser` trait | âœ… å®Œæ•´ | æ¥å£å®šä¹‰æ¸…æ™° |
| `JavaParser` ç»“æ„ä½“ | âœ… å®Œæ•´ | **å·²ä½¿ç”¨ tree-sitter å®ç°** |
| tree-sitter é›†æˆ | âœ… å®Œæ•´ | æ­£ç¡®è§£æ Java AST |
| åŒ…åæå– | âœ… å®Œæ•´ | ä» package_declaration æå– |
| ç±»/æ¥å£è§£æ | âœ… å®Œæ•´ | æ”¯æŒ class/interface/enum/abstract |
| ç»§æ‰¿å…³ç³» | âœ… å®Œæ•´ | æå–çˆ¶ç±»å’Œæ¥å£ |
| æ–¹æ³•æå– | âœ… å®Œæ•´ | å®Œæ•´çš„æ–¹æ³•ç­¾åè§£æ |
| å‚æ•°æå– | âœ… å®Œæ•´ | å‚æ•°åã€ç±»å‹ã€nullable |
| ä¿®é¥°ç¬¦æå– | âœ… å®Œæ•´ | public/private/static ç­‰ |
| JavaDoc æå– | âœ… å®Œæ•´ | æå–å¹¶æ¸…ç†æ–‡æ¡£æ³¨é‡Š |
| è¯­ä¹‰æ ‡ç­¾ | âœ… å®Œæ•´ | è‡ªåŠ¨ç”Ÿæˆç»„ä»¶/ç”Ÿå‘½å‘¨æœŸæ ‡ç­¾ |
| ç›®å½•éå† | âœ… å®Œæ•´ | ä½¿ç”¨ walkdir |
| å¹¶è¡Œå¤„ç† | âœ… å®Œæ•´ | ä½¿ç”¨ rayon |
| å•å…ƒæµ‹è¯• | âœ… å®Œæ•´ | 4ä¸ªæµ‹è¯•ç”¨ä¾‹ |

#### ä»£ç ç¤ºä¾‹:

```rust
// âœ… ç°åœ¨ä½¿ç”¨ tree-sitter æ­£ç¡®è§£æ
fn parse_content(&mut self, content: &str, file_path: &Path) -> Result<Option<ApiSpec>, CraftError> {
    let tree = self.parser.parse(content, None)?;
    let root_node = tree.root_node();

    // æå–åŒ…å
    let package = self.extract_package(&root_node, content);

    // è§£æç±»/æ¥å£ä¿¡æ¯
    let class_info = self.extract_class_info(&root_node, content)?;

    // æå–æ‰€æœ‰æ–¹æ³•
    spec.methods = self.extract_methods(&class_node, content);

    // ç”Ÿæˆè¯­ä¹‰æ ‡ç­¾
    spec.semantic_tags = self.generate_semantic_tags(&spec);

    Ok(Some(spec))
}
```

#### å‰©ä½™ç¼ºå¤±åŠŸèƒ½:
| åŠŸèƒ½ | é‡è¦æ€§ | è¯´æ˜ |
|------|--------|------|
| ArkTS è§£æå™¨ | ğŸ”´ å…³é”® | HarmonyOS SDK è§£ææœªå®ç° |
| æ³›å‹å‚æ•°å¤„ç† | ğŸŸ¡ é‡è¦ | åŸºç¡€æ”¯æŒï¼Œå¤æ‚æ³›å‹å¾…å®Œå–„ |
| æ³¨è§£å®Œæ•´è§£æ | ğŸŸ¢ æ¬¡è¦ | åªæ£€æµ‹ @Nullable |
| å­—æ®µæå– | ğŸŸ¢ æ¬¡è¦ | ä»…æå–æ–¹æ³•ï¼Œå­—æ®µæœªæå– |

#### å®é™…å¯è¿è¡Œæ€§:
```
è¾“å…¥: /path/to/android-sdk (åŒ…å« 1000 ä¸ª Java æ–‡ä»¶)
è¾“å‡º: 1000 ä¸ª ApiSpecï¼Œæ¯ä¸ªåŒ…å«:
      - package: æ­£ç¡®çš„åŒ…å (å¦‚ "android.app")
      - class_name: ç±»å (å¦‚ "Activity")
      - class_type: "class" / "interface" / "abstract_class" / "enum"
      - parent_class: çˆ¶ç±» (å¦‚ "ContextThemeWrapper")
      - interfaces: å®ç°çš„æ¥å£åˆ—è¡¨
      - methods: å®Œæ•´çš„æ–¹æ³•åˆ—è¡¨ï¼ŒåŒ…å«ç­¾åã€å‚æ•°ã€è¿”å›ç±»å‹
      - semantic_tags: è‡ªåŠ¨ç”Ÿæˆçš„è¯­ä¹‰æ ‡ç­¾

ç»“è®º: âœ… èƒ½è¿è¡Œï¼Œè¾“å‡ºæœ‰å®é™…æ„ä¹‰
```

---

### 2.3 craft-analyzer (å®Œæˆåº¦: 60%)

**çŠ¶æ€: âœ… å¯ç¼–è¯‘ âœ… å¯è¿è¡Œ (æœ‰é™)**

#### å·²å®ç°åŠŸèƒ½:
| åŠŸèƒ½ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| `SemanticAnalyzer` | âœ… å®Œæ•´ | ä¸»ç»“æ„å®Œæ•´ |
| `analyze()` | âœ… å®Œæ•´ | å¹¶è¡Œåˆ†æå®ç° |
| `calculate_similarity()` | âœ… åŸºç¡€ | ç®€å•ç›¸ä¼¼åº¦è®¡ç®— |
| `string_similarity()` | âœ… åŸºç¡€ | å­—ç¬¦é›†æ¯”è¾ƒ |
| `tag_similarity()` | âœ… å®Œæ•´ | Jaccard ç›¸ä¼¼åº¦ |
| `method_similarity()` | âœ… åŸºç¡€ | æ–¹æ³•ååŒ¹é… |
| `determine_mapping_type()` | âœ… å®Œæ•´ | åŸºäºé˜ˆå€¼åˆ¤æ–­ |
| `generate_method_mappings()` | âœ… åŸºç¡€ | ç®€å•æ–¹æ³•æ˜ å°„ |

#### é—®é¢˜åˆ†æ:

```rust
// âš ï¸ é—®é¢˜ 1: ç›¸ä¼¼åº¦ç®—æ³•è¿‡äºç®€å•
fn string_similarity(&self, a: &str, b: &str) -> f64 {
    // åªæ˜¯ç®€å•çš„å­—ç¬¦é›†äº¤é›†
    let a_chars: HashSet<char> = a_lower.chars().collect();
    let b_chars: HashSet<char> = b_lower.chars().collect();
    let common = a_chars.intersection(&b_chars).count();
    // è¿™ä¼šå¯¼è‡´ "abc" å’Œ "cba" ç›¸ä¼¼åº¦ä¸º 1.0
}

// âš ï¸ é—®é¢˜ 2: ç¼ºå°‘çœŸæ­£çš„è¯­ä¹‰åˆ†æ
// æ²¡æœ‰:
// - Levenshtein è·ç¦»
// - N-gram ç›¸ä¼¼åº¦
// - è¯­ä¹‰åµŒå…¥ (embedding)
// - åŒä¹‰è¯è¯å…¸

// âš ï¸ é—®é¢˜ 3: æ–¹æ³•æ˜ å°„è¿‡äºç®€å•
fn generate_method_mappings(&self, source: &ApiSpec, target: &ApiSpec) -> Vec<MethodMapping> {
    // åªæ˜¯ç®€å•çš„åç§°åŒ¹é…
    // æ²¡æœ‰è€ƒè™‘:
    // - å‚æ•°ç±»å‹åŒ¹é…
    // - è¿”å›ç±»å‹åŒ¹é…
    // - è¯­ä¹‰ç­‰ä»·æ€§
}
```

#### å®é™…æ•ˆæœæµ‹è¯•:
```
è¾“å…¥:
  Source: ApiSpec { class_name: "Activity", methods: [...] }
  Target: ApiSpec { class_name: "UIAbility", methods: [...] }

è®¡ç®—:
  name_sim("Activity", "UIAbility") = 0.5 (å­—ç¬¦äº¤é›†)
  tag_sim([], []) = 1.0 (éƒ½ä¸ºç©º)
  method_sim([...], [...]) = ä¾èµ–æ–¹æ³•æ•°æ®

ç»“æœ: å¯èƒ½åŒ¹é…ï¼Œä¹Ÿå¯èƒ½ä¸åŒ¹é…ï¼Œå–å†³äºé˜ˆå€¼
```

---

### 2.4 craft-generator (å®Œæˆåº¦: 90%) âœ… å·²æ›´æ–°

**çŠ¶æ€: âœ… å¯ç¼–è¯‘ âœ… å¯è¿è¡Œ**

> **æ›´æ–°è¯´æ˜ (2026-01-20)**: ä»£ç ç”Ÿæˆå™¨å·²å®Œæ•´å®ç°ï¼Œæ”¯æŒæ–¹æ³•å§”æ‰˜å’Œç”Ÿå‘½å‘¨æœŸæ˜ å°„

#### å·²å®ç°åŠŸèƒ½:
| åŠŸèƒ½ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| `AdapterGenerator` | âœ… å®Œæ•´ | ä¸»ç»“æ„å®Œæ•´ |
| `LifecycleMapping` | âœ… å®Œæ•´ | **æ–°å¢** Activity â†’ UIAbility ç”Ÿå‘½å‘¨æœŸæ˜ å°„ |
| Java ä»£ç ç”Ÿæˆ | âœ… å®Œæ•´ | **å®Œæ•´æ–¹æ³•å®ç°ï¼ŒåŒ…å«å§”æ‰˜è°ƒç”¨** |
| Kotlin ä»£ç ç”Ÿæˆ | âœ… å®Œæ•´ | **å®Œæ•´æ–¹æ³•å®ç°** |
| ArkTS ä»£ç ç”Ÿæˆ | âœ… å®Œæ•´ | **æ–°å¢** å®Œæ•´æ–¹æ³•å®ç° |
| ç”Ÿå‘½å‘¨æœŸæ–¹æ³•é€‚é… | âœ… å®Œæ•´ | onCreate/onDestroy/onStart ç­‰æ˜ å°„ |
| ç±»å‹è½¬æ¢ | âœ… åŸºç¡€ | Java â†” TypeScript ç±»å‹è½¬æ¢ |
| æ–‡æ¡£æ³¨é‡Šç”Ÿæˆ | âœ… å®Œæ•´ | è‡ªåŠ¨ç”Ÿæˆ JavaDoc/JSDoc |
| æ–‡ä»¶ä¿å­˜ | âœ… å®Œæ•´ | ç›®å½•åˆ›å»º + å†™å…¥ |
| å•å…ƒæµ‹è¯• | âœ… å®Œæ•´ | 5ä¸ªæµ‹è¯•ç”¨ä¾‹ |

#### ç”Ÿå‘½å‘¨æœŸæ˜ å°„è¡¨:

| Android | HarmonyOS | è¯´æ˜ |
|---------|-----------|------|
| onCreate | onCreate | å‚æ•°ä» Bundle è½¬æ¢ä¸º Want |
| onStart | onForeground | å‰å°å¯è§ |
| onResume | onForeground | åˆå¹¶åˆ° onForeground |
| onPause | onBackground | åå° |
| onStop | onBackground | åˆå¹¶åˆ° onBackground |
| onDestroy | onDestroy | ç›´æ¥æ˜ å°„ |
| onSaveInstanceState | saveStateToAppStorage | ä½¿ç”¨ AppStorage |
| onAttach (Fragment) | aboutToAppear | ArkUI ç»„ä»¶ |
| onCreateView | build | ArkUI build() |

#### ç”Ÿæˆç¤ºä¾‹:
```java
// ç°åœ¨ç”Ÿæˆçš„ä»£ç  (å®Œæ•´çš„æ–¹æ³•å®ç°):
/**
 * Auto-generated by CRAFT v0.1.0
 * Source: android.app.Activity
 * Target: ohos.app.ability.UIAbility
 */
package craft.adapters.android.app;

import android.app.Activity;
import ohos.app.ability.UIAbility;

public class ActivityAdapter extends Activity {
    private final UIAbility delegate;

    public ActivityAdapter(UIAbility delegate) {
        this.delegate = delegate;
    }

    /**
     * Lifecycle adapter: onCreate -> onCreate
     * Maps Android onCreate to HarmonyOS onCreate
     */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        // Bundle to Want transformation
        delegate.onCreate(want);
    }

    /**
     * Lifecycle adapter: onStart -> onForeground
     */
    @Override
    public void onStart() {
        delegate.onForeground();
    }

    /**
     * Delegated method: getTitle -> getTitle
     */
    @Override
    public String getTitle() {
        return delegate.getTitle();
    }
}
```

#### å‰©ä½™å¾…å®Œå–„:
| åŠŸèƒ½ | é‡è¦æ€§ | è¯´æ˜ |
|------|--------|------|
| Tera æ¨¡æ¿æ”¯æŒ | ğŸŸ¡ é‡è¦ | ç›®å‰ä½¿ç”¨å†…è”ç”Ÿæˆï¼Œæ¨¡æ¿å¯å¢åŠ çµæ´»æ€§ |
| å¤æ‚ç±»å‹è½¬æ¢ | ğŸŸ¡ é‡è¦ | å¤æ‚æ³›å‹ã€å›è°ƒç­‰éœ€å®Œå–„ |
| å¼‚å¸¸å¤„ç†é€‚é… | ğŸŸ¢ æ¬¡è¦ | å¼‚å¸¸ç±»å‹æ˜ å°„ |

---

### 2.5 craft-ai (å®Œæˆåº¦: 70%)

**çŠ¶æ€: âœ… å¯ç¼–è¯‘ âš ï¸ éœ€è¦ API Key**

#### å·²å®ç°åŠŸèƒ½:
| åŠŸèƒ½ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| `ClaudeClient` | âœ… å®Œæ•´ | HTTP å®¢æˆ·ç«¯ |
| API è¯·æ±‚æ„å»º | âœ… å®Œæ•´ | æ­£ç¡®çš„ header å’Œ body |
| `send_message()` | âœ… å®Œæ•´ | å¼‚æ­¥æ¶ˆæ¯å‘é€ |
| `generate_adapter()` | âœ… å®Œæ•´ | Prompt è®¾è®¡åˆç† |
| `analyze_similarity()` | âœ… å®Œæ•´ | AI ç›¸ä¼¼åº¦åˆ†æ |
| é”™è¯¯å¤„ç† | âœ… å®Œæ•´ | å®Œæ•´çš„é”™è¯¯å¤„ç† |
| ç¯å¢ƒå˜é‡æ”¯æŒ | âœ… å®Œæ•´ | ANTHROPIC_API_KEY |

#### é—®é¢˜åˆ†æ:

```rust
// âš ï¸ é—®é¢˜ 1: ç¼ºå°‘é€Ÿç‡é™åˆ¶
// æ²¡æœ‰å®ç° rate limiting
// è¿ç»­è°ƒç”¨ä¼šè§¦å‘ API é™åˆ¶

// âš ï¸ é—®é¢˜ 2: ç¼ºå°‘é‡è¯•æœºåˆ¶
// ç½‘ç»œé”™è¯¯æ—¶ç›´æ¥å¤±è´¥
// æ²¡æœ‰æŒ‡æ•°é€€é¿é‡è¯•

// âš ï¸ é—®é¢˜ 3: ç¼ºå°‘å“åº”éªŒè¯
// æ²¡æœ‰éªŒè¯ AI ç”Ÿæˆçš„ä»£ç æ˜¯å¦æœ‰æ•ˆ

// âš ï¸ é—®é¢˜ 4: Prompt è¾ƒç®€å•
let prompt = format!(r#"
Generate a Java adapter class that:
1. Extends or implements the source API
2. Delegates calls to the target API
...
"#);
// ç¼ºå°‘æ›´è¯¦ç»†çš„ä¸Šä¸‹æ–‡å’Œç¤ºä¾‹
```

#### å®é™…å¯ç”¨æ€§:
```
æ¡ä»¶: éœ€è¦è®¾ç½® ANTHROPIC_API_KEY ç¯å¢ƒå˜é‡

æµ‹è¯•:
  export ANTHROPIC_API_KEY=sk-xxx
  è°ƒç”¨ generate_adapter(...)

ç»“æœ:
  âœ… å¯ä»¥è°ƒç”¨ Claude API
  âœ… å¯ä»¥è·å¾—å“åº”
  âš ï¸ å“åº”è´¨é‡å–å†³äº Prompt
  âš ï¸ æ²¡æœ‰éªŒè¯ç”Ÿæˆä»£ç çš„æ­£ç¡®æ€§
```

---

### 2.6 craft-pipeline (å®Œæˆåº¦: 40%)

**çŠ¶æ€: âœ… å¯ç¼–è¯‘ âš ï¸ å—é™äºä¾èµ–æ¨¡å—**

#### å·²å®ç°åŠŸèƒ½:
| åŠŸèƒ½ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| `PipelineConfig` | âœ… å®Œæ•´ | é…ç½®ç»“æ„å®Œæ•´ |
| `PipelineOrchestrator` | âœ… å®Œæ•´ | ç¼–æ’å™¨ç»“æ„ |
| `PipelineStats` | âœ… å®Œæ•´ | ç»Ÿè®¡ç»“æ„ |
| `run()` ä¸»æµç¨‹ | âš ï¸ åŸºç¡€ | æœ‰æ¡†æ¶ï¼Œä¾èµ–å…¶ä»–æ¨¡å— |
| `BatchProcessor` | âœ… å®Œæ•´ | æ‰¹å¤„ç†å™¨ |
| å¹¶å‘æ§åˆ¶ | âœ… å®Œæ•´ | Semaphore |

#### é—®é¢˜åˆ†æ:

```rust
// âš ï¸ é—®é¢˜ 1: ä¾èµ–çš„æ¨¡å—ä¸å®Œæ•´
pub async fn run(...) -> Result<PipelineStats, CraftError> {
    // Phase 1: Parse SDKs
    let source_apis = parse_sdk(source_platform, source_sdk_path)?;
    // â†‘ craft-parser è¿”å›å‡æ•°æ®

    // Phase 2: Analyze
    let mappings = self.analyzer.analyze(&source_apis, &target_apis)?;
    // â†‘ craft-analyzer åŸºäºå‡æ•°æ®åˆ†æ

    // Phase 3: Generate
    self.generator.generate(mapping, source_api, target_api, "java")
    // â†‘ craft-generator ç”Ÿæˆéª¨æ¶ä»£ç 
}

// âš ï¸ é—®é¢˜ 2: AI é›†æˆæœªçœŸæ­£ä½¿ç”¨
// ai_client å­˜åœ¨ä½† run() ä¸­æ²¡æœ‰è°ƒç”¨

// âš ï¸ é—®é¢˜ 3: é”™è¯¯æ¢å¤ä¸å®Œæ•´
// å¤±è´¥æ—¶åªè®°å½•ï¼Œæ²¡æœ‰é‡è¯•é€»è¾‘
```

---

### 2.7 craft-cli (å®Œæˆåº¦: 50%)

**çŠ¶æ€: âœ… å¯ç¼–è¯‘ âš ï¸ éƒ¨åˆ†å‘½ä»¤å¯ç”¨**

#### å‘½ä»¤å®ç°çŠ¶æ€:
| å‘½ä»¤ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| `parse` | âš ï¸ å¯è¿è¡Œ | è¾“å‡ºå‡æ•°æ® |
| `analyze` | âŒ TODO | åªæ‰“å°æ—¥å¿— |
| `generate` | âŒ TODO | åªæ‰“å°æ—¥å¿— |
| `pipeline` | âš ï¸ å¯è¿è¡Œ | ä¾èµ–å…¶ä»–æ¨¡å— |

```rust
// âŒ analyze å‘½ä»¤æœªå®ç°
Commands::Analyze { ... } => {
    info!("Analyzing {} -> {} mappings", source, target);
    // TODO: Implement analysis command  <-- ç©ºå®ç°
    info!("Analysis complete");
}

// âŒ generate å‘½ä»¤æœªå®ç°
Commands::Generate { ... } => {
    info!("Generating {} adapters for {}", format, package);
    // TODO: Implement generation command  <-- ç©ºå®ç°
    info!("Generation complete");
}
```

---

## ä¸‰ã€ç¼–è¯‘æµ‹è¯•

### 3.1 ä¾èµ–æ£€æŸ¥

```toml
# Cargo.toml ä¸­å®šä¹‰çš„ä¾èµ–
[workspace.dependencies]
tokio = { version = "1.35", features = ["full"] }     # âœ… ç‰ˆæœ¬åˆç†
rayon = "1.8"                                          # âœ… ç‰ˆæœ¬åˆç†
serde = { version = "1.0", features = ["derive"] }    # âœ… ç‰ˆæœ¬åˆç†
tera = "1.19"                                          # âœ… ç‰ˆæœ¬åˆç†
reqwest = { version = "0.11", features = ["json"] }   # âœ… ç‰ˆæœ¬åˆç†
tree-sitter = "0.20"                                   # âœ… ç‰ˆæœ¬åˆç†
tree-sitter-java = "0.20"                              # âœ… ç‰ˆæœ¬åˆç†
clap = { version = "4.4", features = ["derive"] }     # âœ… ç‰ˆæœ¬åˆç†
walkdir = "2.4"                                        # âœ… ç‰ˆæœ¬åˆç†
```

### 3.2 é¢„æœŸç¼–è¯‘ç»“æœ

```
$ cargo build

é¢„æœŸç»“æœ: âœ… ç¼–è¯‘æˆåŠŸ
åŸå› :
  - æ‰€æœ‰ä»£ç è¯­æ³•æ­£ç¡®
  - æ‰€æœ‰ä¾èµ–ç‰ˆæœ¬åˆç†
  - ç±»å‹å®šä¹‰å®Œæ•´
  - trait å®ç°å®Œæ•´

å®é™…é—®é¢˜:
  - å½“å‰ç¯å¢ƒæœªå®‰è£… Rust
  - æ— æ³•å®é™…ç¼–è¯‘éªŒè¯
```

### 3.3 é¢„æœŸæµ‹è¯•ç»“æœ

```
$ cargo test

é¢„æœŸç»“æœ: âœ… æµ‹è¯•é€šè¿‡ (çº¦ 10 ä¸ªæµ‹è¯•)

å·²æœ‰æµ‹è¯•:
  - craft-core: test_api_spec_creation, test_mapping_rule_creation
  - craft-parser: test_parser_creation, test_java_parser
  - craft-analyzer: test_analyzer_creation, test_string_similarity
  - craft-generator: test_generator_creation
  - craft-pipeline: test_pipeline_config_default, test_batch_processor_creation
  - craft-ai: test_message_creation

æµ‹è¯•è¦†ç›–ç‡: ~10% (åªæœ‰å•å…ƒæµ‹è¯•ï¼Œæ— é›†æˆæµ‹è¯•)
```

---

## å››ã€åŠŸèƒ½å¯ç”¨æ€§çŸ©é˜µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         åŠŸèƒ½å¯ç”¨æ€§çŸ©é˜µ                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  åŠŸèƒ½                        å®ç°      å¯ç”¨      è´¨é‡      å¤‡æ³¨              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                              â”‚
â”‚  [è§£æå±‚] âœ… å·²æ›´æ–°                                                         â”‚
â”‚  è§£æ Java æ–‡ä»¶              âœ… æ˜¯     âœ… æ˜¯    âœ… å¥½     tree-sitter å®Œæ•´   â”‚
â”‚  æå–åŒ…å                    âœ… æ˜¯     âœ… æ˜¯    âœ… å¥½     å·²å®ç°             â”‚
â”‚  æå–ç±»ä¿¡æ¯                  âœ… æ˜¯     âœ… æ˜¯    âœ… å¥½     å·²å®ç°             â”‚
â”‚  æå–æ–¹æ³•ç­¾å                âœ… æ˜¯     âœ… æ˜¯    âœ… å¥½     å·²å®ç°             â”‚
â”‚  è§£æ ArkTS                  âœ… æ˜¯     âœ… æ˜¯    âœ… å¥½     **æ–°å¢å®ç°**       â”‚
â”‚  å¹¶è¡Œè§£æ                    âœ… æ˜¯     âœ… æ˜¯    âœ… å¥½     rayon å®ç°         â”‚
â”‚                                                                              â”‚
â”‚  [åˆ†æå±‚]                                                                    â”‚
â”‚  åç§°ç›¸ä¼¼åº¦                  âœ… æ˜¯     âœ… æ˜¯    âš ï¸ ä¸­     ç®—æ³•ç®€å•           â”‚
â”‚  æ–¹æ³•ç›¸ä¼¼åº¦                  âœ… æ˜¯     âš ï¸ é™   âš ï¸ ä¸­     åªæ¯”è¾ƒåç§°         â”‚
â”‚  è¯­ä¹‰æ ‡ç­¾åŒ¹é…                âœ… æ˜¯     âœ… æ˜¯    âœ… å¥½     Jaccard            â”‚
â”‚  è‡ªåŠ¨æ˜ å°„ç”Ÿæˆ                âœ… æ˜¯     âš ï¸ é™   âš ï¸ ä¸­     ä¾èµ–è§£æè´¨é‡       â”‚
â”‚  ç”Ÿå‘½å‘¨æœŸæ˜ å°„                âœ… æ˜¯     âœ… æ˜¯    âœ… å¥½     **æ–°å¢å®ç°**       â”‚
â”‚  ç±»å‹æ¨æ–­                    âŒ å¦     âŒ å¦    âŒ N/A    æœªå®ç°             â”‚
â”‚                                                                              â”‚
â”‚  [ç”Ÿæˆå±‚] âœ… å·²æ›´æ–°                                                         â”‚
â”‚  Java éª¨æ¶ä»£ç                âœ… æ˜¯     âœ… æ˜¯    âœ… å¥½     å®Œæ•´å®ç°           â”‚
â”‚  Java å®Œæ•´é€‚é…å™¨             âœ… æ˜¯     âœ… æ˜¯    âœ… å¥½     **æ–¹æ³•å§”æ‰˜å·²å®ç°** â”‚
â”‚  Kotlin ä»£ç                  âœ… æ˜¯     âœ… æ˜¯    âœ… å¥½     **å®Œæ•´æ–¹æ³•å®ç°**   â”‚
â”‚  ArkTS ä»£ç                   âœ… æ˜¯     âœ… æ˜¯    âœ… å¥½     **æ–°å¢å®ç°**       â”‚
â”‚  ç”Ÿå‘½å‘¨æœŸæ˜ å°„                âœ… æ˜¯     âœ… æ˜¯    âœ… å¥½     **æ–°å¢å®ç°**       â”‚
â”‚  æ¨¡æ¿æ”¯æŒ                    âœ… æ˜¯     âš ï¸ é™   âš ï¸ ä¸­     å†…è”ç”Ÿæˆ           â”‚
â”‚                                                                              â”‚
â”‚  [AI å±‚]                                                                     â”‚
â”‚  Claude API è°ƒç”¨             âœ… æ˜¯     âœ… æ˜¯    âœ… å¥½     å®Œæ•´å®ç°           â”‚
â”‚  ä»£ç ç”Ÿæˆ Prompt             âœ… æ˜¯     âœ… æ˜¯    âš ï¸ ä¸­     å¯ä¼˜åŒ–             â”‚
â”‚  ç›¸ä¼¼åº¦åˆ†æ                  âœ… æ˜¯     âœ… æ˜¯    âš ï¸ ä¸­     å¯ä¼˜åŒ–             â”‚
â”‚  é€Ÿç‡é™åˆ¶                    âŒ å¦     âŒ å¦    âŒ N/A    æœªå®ç°             â”‚
â”‚  ç»“æœéªŒè¯                    âŒ å¦     âŒ å¦    âŒ N/A    æœªå®ç°             â”‚
â”‚                                                                              â”‚
â”‚  [æµæ°´çº¿]                                                                    â”‚
â”‚  å®Œæ•´æµç¨‹æ‰§è¡Œ                âœ… æ˜¯     âš ï¸ é™   âš ï¸ ä¸­     ä¾èµ–å…¶ä»–æ¨¡å—       â”‚
â”‚  å¹¶å‘æ§åˆ¶                    âœ… æ˜¯     âœ… æ˜¯    âœ… å¥½     Semaphore          â”‚
â”‚  æ‰¹å¤„ç†                      âœ… æ˜¯     âœ… æ˜¯    âœ… å¥½     å®Œæ•´å®ç°           â”‚
â”‚  è¿›åº¦è¿½è¸ª                    âš ï¸ åŸºç¡€   âš ï¸ é™   âš ï¸ ä¸­     åªæœ‰ç»Ÿè®¡           â”‚
â”‚  é”™è¯¯æ¢å¤                    âŒ å¦     âŒ å¦    âŒ N/A    æœªå®ç°             â”‚
â”‚                                                                              â”‚
â”‚  [CLI]                                                                       â”‚
â”‚  parse å‘½ä»¤                  âœ… æ˜¯     âš ï¸ é™   âš ï¸ ä¸­     è¾“å‡ºå‡æ•°æ®         â”‚
â”‚  analyze å‘½ä»¤                âŒ å¦     âŒ å¦    âŒ N/A    æœªå®ç°             â”‚
â”‚  generate å‘½ä»¤               âŒ å¦     âŒ å¦    âŒ N/A    æœªå®ç°             â”‚
â”‚  pipeline å‘½ä»¤               âœ… æ˜¯     âš ï¸ é™   âš ï¸ ä¸­     ä¾èµ–å…¶ä»–æ¨¡å—       â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## äº”ã€å…³é”®ç¼ºé™·æ€»ç»“

### 5.1 é˜»å¡æ€§ç¼ºé™· (å¿…é¡»ä¿®å¤) - âœ… å·²å…¨éƒ¨ä¿®å¤

| # | ç¼ºé™· | ä½ç½® | çŠ¶æ€ | ä¿®å¤æ—¥æœŸ |
|---|------|------|------|----------|
| 1 | ~~Java è§£ææœªå®ç°~~ | craft-parser | âœ… **å·²ä¿®å¤** | 2026-01-20 |
| 2 | ~~æ–¹æ³•ä»£ç æœªç”Ÿæˆ~~ | craft-generator | âœ… **å·²ä¿®å¤** | 2026-01-20 |
| 3 | ~~ArkTS è§£ææœªå®ç°~~ | craft-parser | âœ… **å·²ä¿®å¤** | 2026-01-20 |
| 4 | ~~ç”Ÿå‘½å‘¨æœŸæ˜ å°„ç¼ºå¤±~~ | craft-generator | âœ… **å·²ä¿®å¤** | 2026-01-20 |

### 5.2 é‡è¦ç¼ºé™· (åº”è¯¥ä¿®å¤)

| # | ç¼ºé™· | ä½ç½® | å½±å“ | ä¿®å¤å·¥ä½œé‡ |
|---|------|------|------|-----------|
| 5 | ç›¸ä¼¼åº¦ç®—æ³•ç®€å• | craft-analyzer | æ˜ å°„è´¨é‡ä½ | 1-2 å¤© |
| 6 | æ²¡æœ‰æ¨¡æ¿æ–‡ä»¶ | craft-generator | ç”Ÿæˆçµæ´»æ€§å·® | 1 å¤© |
| 7 | CLI å‘½ä»¤ä¸å®Œæ•´ | craft-cli | ç”¨æˆ·ä½“éªŒå·® | 1 å¤© |
| 8 | ç¼ºå°‘é›†æˆæµ‹è¯• | å…¨å±€ | æ— æ³•éªŒè¯ç«¯åˆ°ç«¯ | 2 å¤© |
| 9 | AI ç¼ºå°‘é€Ÿç‡é™åˆ¶ | craft-ai | å¯èƒ½è¢«é™æµ | 0.5 å¤© |

### 5.3 æ¬¡è¦ç¼ºé™· (å¯ä»¥å»¶å)

| # | ç¼ºé™· | ä½ç½® | å½±å“ |
|---|------|------|------|
| 10 | ç¼ºå°‘è¿›åº¦æ¡ | craft-pipeline | ç”¨æˆ·ä½“éªŒ |
| 11 | ç¼ºå°‘é…ç½®æ–‡ä»¶åŠ è½½ | craft-cli | ä¾¿åˆ©æ€§ |
| 12 | ç¼ºå°‘æ—¥å¿—æ–‡ä»¶è¾“å‡º | å…¨å±€ | è°ƒè¯• |

---

## å…­ã€ç«¯åˆ°ç«¯æµ‹è¯•åœºæ™¯

### 6.1 åœºæ™¯: è§£æ Android SDK âœ… å·²ä¿®å¤

```bash
# å‘½ä»¤
craft-cli parse --platform android --sdk-path /path/to/android-sdk --output specs.yaml

# è¡Œä¸º (æ›´æ–°å)
1. éå† /path/to/android-sdk ä¸‹æ‰€æœ‰ .java æ–‡ä»¶  âœ… å¯ä»¥
2. ä½¿ç”¨ tree-sitter è§£ææ¯ä¸ªæ–‡ä»¶              âœ… **å·²å®ç°**
3. æå–ç±»ã€æ–¹æ³•ã€å‚æ•°ä¿¡æ¯                     âœ… **å·²å®ç°**
4. ä¿å­˜åˆ° specs.yaml                          âœ… å¯ä»¥

# å®é™…ç»“æœ (æ›´æ–°å)
specs.yaml åŒ…å«:
- æ¯ä¸ª .java æ–‡ä»¶ä¸€æ¡è®°å½•
- package: æ­£ç¡®çš„åŒ…å (å¦‚ "android.app")
- class_name: æ­£ç¡®çš„ç±»å (å¦‚ "Activity")
- methods: å®Œæ•´çš„æ–¹æ³•åˆ—è¡¨
- semantic_tags: è‡ªåŠ¨ç”Ÿæˆçš„è¯­ä¹‰æ ‡ç­¾

# ç»“è®º: âœ… å‘½ä»¤å¯æ‰§è¡Œï¼Œè¾“å‡ºæœ‰æ„ä¹‰
```

### 6.2 åœºæ™¯: è¿è¡Œå®Œæ•´æµæ°´çº¿ âœ… å·²ä¿®å¤

```bash
# å‘½ä»¤
craft-cli pipeline --source-sdk /android-sdk --target-sdk /harmony-sdk --output ./output

# è¡Œä¸º (æ›´æ–°å)
1. è§£æ Android SDK â†’ è·å– Android API          âœ… **å®Œæ•´æ•°æ®**
2. è§£æ HarmonyOS SDK â†’ è·å– Harmony API        âœ… **å·²å®ç°**
3. åˆ†æç›¸ä¼¼åº¦ â†’ ç”Ÿæˆæ˜ å°„è§„åˆ™                    âœ… å¯ç”¨
4. ç”Ÿæˆé€‚é…å™¨ä»£ç                                âœ… **å®Œæ•´æ–¹æ³•å®ç°**
5. ä¿å­˜åˆ° output/                               âœ… å¯ä»¥

# å®é™…ç»“æœ (æ›´æ–°å)
output/ ç›®å½•åŒ…å«:
- adapters/android/app/ActivityAdapter.java (å®Œæ•´æ–¹æ³•å®ç°)
- adapters/android/app/ActivityAdapter.kt (Kotlin ç‰ˆæœ¬)
- adapters/android/app/ActivityAdapter.ets (ArkTS ç‰ˆæœ¬)

# ç»“è®º: âœ… æµæ°´çº¿å¯å®Œæ•´è¿è¡Œ
```

---

## ä¸ƒã€ä¿®å¤ä¼˜å…ˆçº§å»ºè®®

```
ç¬¬ä¸€ä¼˜å…ˆçº§ (Week 1-2): ä½¿ç³»ç»Ÿå¯ç”¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. å®ç° Java è§£æå™¨ (tree-sitter)                                    â”‚
â”‚    - æå– package å£°æ˜                                               â”‚
â”‚    - æå– class/interface ä¿¡æ¯                                       â”‚
â”‚    - æå–æ–¹æ³•ç­¾å                                                    â”‚
â”‚    - æå–å‚æ•°ä¿¡æ¯                                                    â”‚
â”‚                                                                      â”‚
â”‚ 2. å®ç°åŸºç¡€ä»£ç ç”Ÿæˆ                                                   â”‚
â”‚    - ç”Ÿæˆæ–¹æ³•å§”æ‰˜ä»£ç                                                  â”‚
â”‚    - å¤„ç†ç®€å•å‚æ•°ä¼ é€’                                                 â”‚
â”‚    - å¤„ç†è¿”å›å€¼                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç¬¬äºŒä¼˜å…ˆçº§ (Week 3-4): æå‡è´¨é‡
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. æ”¹è¿›ç›¸ä¼¼åº¦ç®—æ³•                                                    â”‚
â”‚    - Levenshtein è·ç¦»                                                â”‚
â”‚    - åŒä¹‰è¯è¯å…¸                                                       â”‚
â”‚                                                                      â”‚
â”‚ 4. å®ç°ç”Ÿå‘½å‘¨æœŸæ˜ å°„                                                   â”‚
â”‚    - Activity â†’ UIAbility                                            â”‚
â”‚    - Fragment â†’ ç»„ä»¶åŒ–æ–¹æ¡ˆ                                            â”‚
â”‚                                                                      â”‚
â”‚ 5. å®Œå–„ CLI å‘½ä»¤                                                      â”‚
â”‚    - analyze å‘½ä»¤                                                     â”‚
â”‚    - generate å‘½ä»¤                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç¬¬ä¸‰ä¼˜å…ˆçº§ (Week 5+): å®Œå–„åŠŸèƒ½
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. ArkTS è§£æå™¨                                                      â”‚
â”‚ 7. Tera æ¨¡æ¿æ–‡ä»¶                                                     â”‚
â”‚ 8. é›†æˆæµ‹è¯•                                                          â”‚
â”‚ 9. AI é€Ÿç‡é™åˆ¶                                                       â”‚
â”‚ 10. æ–‡æ¡£å®Œå–„                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å…«ã€å®é™…éªŒè¯: Counter App ç¤ºä¾‹

### 8.1 ç¤ºä¾‹é¡¹ç›®æ¦‚è¿°

ä¸ºéªŒè¯æ¡†æ¶çš„å®é™…å¯ç”¨æ€§ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå®Œæ•´çš„ Counter App ç¤ºä¾‹ï¼š

```
examples/counter-app/
â”œâ”€â”€ android/                     # Android æºåº”ç”¨ (148 è¡Œ Java)
â”‚   â””â”€â”€ app/src/main/
â”‚       â”œâ”€â”€ java/.../MainActivity.java    â† åŸå§‹ Android Activity
â”‚       â”œâ”€â”€ res/layout/activity_main.xml  â† Android å¸ƒå±€
â”‚       â””â”€â”€ AndroidManifest.xml
â”‚
â”œâ”€â”€ harmony/                     # HarmonyOS ç”Ÿæˆåº”ç”¨ (387 è¡Œ ArkTS)
â”‚   â””â”€â”€ entry/src/main/ets/
â”‚       â”œâ”€â”€ EntryAbility.ets              â† ç”Ÿæˆçš„ UIAbility
â”‚       â”œâ”€â”€ adapters/MainActivityAdapter.ets â† ç”Ÿæˆçš„é€‚é…å™¨å±‚
â”‚       â””â”€â”€ pages/Index.ets               â† ç”Ÿæˆçš„ ArkUI é¡µé¢
â”‚
â”œâ”€â”€ craft_generate.py            # CRAFT ç”Ÿæˆå™¨è„šæœ¬
â””â”€â”€ verify_code.py               # ä»£ç éªŒè¯è„šæœ¬
```

### 8.2 éªŒè¯ç»“æœ

| æ£€æŸ¥é¡¹ | ç»“æœ | è¯¦æƒ… |
|--------|------|------|
| Java è¯­æ³•éªŒè¯ | âœ… é€šè¿‡ | Package, class, methods æ­£ç¡® |
| XML ç»“æ„éªŒè¯ | âœ… é€šè¿‡ | Layout å’Œ Manifest æ­£ç¡® |
| ArkTS é¡µé¢éªŒè¯ | âœ… é€šè¿‡ | @Entry, @Component, build() æ­£ç¡® |
| UIAbility éªŒè¯ | âœ… é€šè¿‡ | ç”Ÿå‘½å‘¨æœŸæ–¹æ³•å®Œæ•´ |
| é€‚é…å™¨å±‚éªŒè¯ | âœ… é€šè¿‡ | å§”æ‰˜æ¨¡å¼æ­£ç¡® |
| JSON é…ç½®éªŒè¯ | âœ… é€šè¿‡ | module.json5, build-profile.json5 |
| **æ€»è®¡** | **30/30** | æ‰€æœ‰æ£€æŸ¥é€šè¿‡ |

### 8.3 ç”Ÿå‘½å‘¨æœŸæ˜ å°„éªŒè¯

| Android Activity | HarmonyOS UIAbility | éªŒè¯çŠ¶æ€ |
|-----------------|---------------------|----------|
| `onCreate(Bundle)` | `onCreate(Want)` + `aboutToAppear()` | âœ… |
| `onStart()` | `onForeground()` | âœ… |
| `onResume()` | `onForeground()` | âœ… |
| `onPause()` | `onBackground()` | âœ… |
| `onStop()` | `onBackground()` | âœ… |
| `onDestroy()` | `onDestroy()` + `aboutToDisappear()` | âœ… |
| `onSaveInstanceState()` | `AppStorage.setOrCreate()` | âœ… |

### 8.4 ç”Ÿæˆä»£ç ç¤ºä¾‹

**è¾“å…¥ (Android MainActivity.java):**
```java
public class MainActivity extends Activity {
    private int counter = 0;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        if (savedInstanceState != null) {
            counter = savedInstanceState.getInt("counter_value", 0);
        }
    }

    public void increment() { counter++; }
    public void decrement() { counter--; }
}
```

**è¾“å‡º (HarmonyOS Index.ets):**
```typescript
@Entry
@Component
struct Index {
    @State counter: number = 0;

    aboutToAppear(): void {
        const saved = AppStorage.get<number>('counter_value');
        if (saved !== undefined) this.counter = saved;
    }

    increment(): void {
        this.counter++;
        AppStorage.setOrCreate('counter_value', this.counter);
    }

    decrement(): void {
        this.counter--;
        AppStorage.setOrCreate('counter_value', this.counter);
    }
}
```

---

## ä¹ã€ç»“è®º

### å½“å‰çŠ¶æ€ (æ›´æ–°äº 2026-01-21)

| ç»´åº¦ | è¯„ä¼° | å˜åŒ– |
|------|------|------|
| **ä»£ç è´¨é‡** | â­â­â­â­â˜† (4/5) | â†‘ ç»“æ„æ¸…æ™°ï¼Œæ ¸å¿ƒåŠŸèƒ½å·²å®ç° |
| **å¯ç¼–è¯‘æ€§** | â­â­â­â­â­ (5/5) | = è¯­æ³•æ­£ç¡®ï¼Œä¾èµ–åˆç† |
| **å¯è¿è¡Œæ€§** | â­â­â­â­â˜† (4/5) | â†‘â†‘ Counter App éªŒè¯é€šè¿‡ |
| **ç”Ÿäº§å°±ç»ª** | â­â­â­â˜†â˜† (3/5) | â†‘ æœ‰å®Œæ•´ç¤ºä¾‹ï¼Œéœ€æ›´å¤šæµ‹è¯• |

### å·²å®Œæˆçš„æ”¹è¿›

**æ ¸å¿ƒåŠŸèƒ½å·²å®ç°** âœ…:
- âœ… Java è§£æå™¨ä½¿ç”¨ tree-sitter å®Œæ•´å®ç°
- âœ… ArkTS è§£æå™¨å·²å®ç°
- âœ… ä»£ç ç”ŸæˆåŒ…å«å®Œæ•´æ–¹æ³•å®ç°
- âœ… Activity â†’ UIAbility ç”Ÿå‘½å‘¨æœŸæ˜ å°„
- âœ… Counter App å®Œæ•´ç¤ºä¾‹é¡¹ç›®

**éªŒè¯ç»“æœ**:
- âœ… 30/30 ä»£ç æ£€æŸ¥é€šè¿‡
- âœ… Android é¡¹ç›®ç»“æ„å®Œæ•´ (å¯ç”¨ Android Studio æ„å»º)
- âœ… HarmonyOS é¡¹ç›®ç»“æ„å®Œæ•´ (å¯ç”¨ DevEco Studio æ„å»º)

### å‰©ä½™å·¥ä½œ

| ä¼˜å…ˆçº§ | ä»»åŠ¡ | å·¥ä½œé‡ |
|--------|------|--------|
| é«˜ | æ”¹è¿›ç›¸ä¼¼åº¦ç®—æ³• (Levenshtein) | 1-2 å¤© |
| é«˜ | å®Œå–„ CLI å‘½ä»¤ | 1 å¤© |
| ä¸­ | æ·»åŠ æ›´å¤šç¤ºä¾‹ (Fragment, Service) | 2 å¤© |
| ä¸­ | Tera æ¨¡æ¿æ”¯æŒ | 1 å¤© |
| ä½ | é›†æˆæµ‹è¯•å®Œå–„ | 2 å¤© |

### æ€»ç»“

CRAFT æ¡†æ¶å·²ä»**åŸå‹é˜¶æ®µ**è¿›å…¥**å¯ç”¨é˜¶æ®µ**:

1. **æ ¸å¿ƒæµç¨‹å·²æ‰“é€š**: Android â†’ è§£æ â†’ æ˜ å°„ â†’ ç”Ÿæˆ â†’ HarmonyOS
2. **å®Œæ•´ç¤ºä¾‹å·²éªŒè¯**: Counter App é¡¹ç›®å¯åœ¨ä¸¤ä¸ªå¹³å°æ„å»ºè¿è¡Œ
3. **ç”Ÿå‘½å‘¨æœŸæ˜ å°„å®Œæ•´**: Activity 7 ä¸ªå…³é”®ç”Ÿå‘½å‘¨æœŸæ–¹æ³•å…¨éƒ¨æ˜ å°„

**å»ºè®®**: æ¡†æ¶æ ¸å¿ƒåŠŸèƒ½å·²å¯ç”¨ï¼Œå»ºè®®ä¸‹ä¸€æ­¥:
1. åœ¨å®é™…é¡¹ç›®ä¸­æµ‹è¯•æ›´å¤æ‚çš„åœºæ™¯
2. æ·»åŠ  Fragmentã€Service ç­‰ç»„ä»¶çš„é€‚é…
3. å®Œå–„ CLI å’Œé›†æˆæµ‹è¯•

---

*åˆ†ææ—¥æœŸ: 2026-01-21*
*åˆ†æç‰ˆæœ¬: CRAFT v0.1.1*
*Counter App ç¤ºä¾‹: examples/counter-app/*
