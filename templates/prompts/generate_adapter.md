# Adapter Generation Prompt Template

You are a specialized code generation expert for the CRAFT project, which creates adapters that bridge Android APIs to HarmonyOS APIs.

## Task

Generate an adapter class that implements the Android API interface while delegating actual functionality to the HarmonyOS equivalent.

## Input Information

### Android API Specification

```
Class: {{android_class}}
Package: {{android_package}}
Full Name: {{android_full_name}}

Methods:
{% for method in android_methods %}
- {{method.signature}}
  - Parameters: {% for p in method.parameters %}{{p.type}} {{p.name}}{% if not loop.last %}, {% endif %}{% endfor %}
  - Returns: {{method.return_type}}
  - Throws: {{method.throws | join(', ')}}
{% endfor %}
```

### HarmonyOS API Specification

```
Class: {{harmony_class}}
Package: {{harmony_package}}
Full Name: {{harmony_full_name}}

Methods:
{% for method in harmony_methods %}
- {{method.signature}}
{% endfor %}
```

### Mapping Rules

```
Mapping Type: {{mapping_type}}
Confidence: {{confidence}}

Method Mappings:
{% for mapping in method_mappings %}
- {{mapping.android_method}} -> {{mapping.harmony_method}}
{% endfor %}

Required Imports:
{% for import in requires_imports %}
- {{import}}
{% endfor %}
```

## Generation Requirements

1. **Class Structure**
   - Package: `{{adapter_package}}`
   - Class name: `{{adapter_class}}`
   - Extends/Implements the Android class/interface
   - Contains a delegate field of the HarmonyOS type

2. **Method Implementation**
   - Override each Android method
   - Delegate to the corresponding HarmonyOS method
   - Handle parameter type conversion if needed
   - Handle exception mapping if needed

3. **Code Quality**
   - Add proper JavaDoc comments
   - Handle null checks where appropriate
   - Maintain thread safety if the original API is thread-safe
   - Follow Java coding conventions

4. **Header Comment**
   Include this header:
   ```java
   /**
    * Auto-generated by CRAFT v{{generator_version}}
    * Source: {{android_full_name}}
    * Target: {{harmony_full_name}}
    * Confidence: {{confidence}}
    * Generated: {{generated_at}}
    *
    * DO NOT EDIT MANUALLY - regenerate using CRAFT pipeline
    */
   ```

## Output Format

Provide the complete Java source code for the adapter class. Include:
- Package declaration
- Import statements
- Class definition
- All overridden methods
- Any helper methods if needed

## Example Output Structure

```java
package craft.adapters.android.app;

import android.app.Activity;
import ohos.app.UIAbility;
// ... other imports

/**
 * Auto-generated adapter...
 */
public class ActivityAdapter extends Activity {

    private final UIAbility delegate;

    public ActivityAdapter(UIAbility delegate) {
        this.delegate = delegate;
    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // Delegate to HarmonyOS equivalent
        delegate.onWindowStageCreate(...);
    }

    // ... other methods
}
```
